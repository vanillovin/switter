{"version":3,"sources":["fbase.js","components/AuthForm.jsx","routes/Auth.jsx","utils/time.js","components/SweetComment.jsx","components/Sweet.jsx","components/SweetFactory.jsx","routes/Home.jsx","components/Navigation.jsx","routes/Profile.jsx","components/Message.jsx","components/SweetDetail.jsx","components/Router.jsx","components/App.jsx","reportWebVitals.js","lib/asyncUtils.js","api/sweets.js","modules/sweets.js","modules/index.js","index.js"],"names":["initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","authService","getAuth","dbService","getFirestore","storageService","getStorage","AuthForm","useState","email","password","loginInputs","setLoginInputs","error","setError","newAccount","setNewAccount","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","code","includes","className","type","placeholder","required","onClick","prev","Auth","darkMode","onSocialClick","provider","GoogleAuthProvider","signInWithPopup","GithubAuthProvider","icon","faTwitter","color","size","style","marginBottom","faGoogle","marginLeft","faGithub","displayedAt","createdAt","seconds","Date","minutes","Math","floor","hours","days","weeks","months","years","SweetComment","handleAddComment","handleDeleteComment","comments","userObj","comment","setComment","clearComment","onHandleAddComment","e","marginTop","map","uid","faTimes","text","Sweet","sweetObj","isOwner","history","useHistory","sort","b","sweet","setText","editing","setEditing","addComment","setAddComment","onDeleteClick","window","confirm","deleteDoc","doc","id","attachmentUrl","deleteObject","ref","updateDoc","like","likes","filter","user","getCount","count","i","length","now","displayName","cid","goToSweetDetail","currentTarget","push","autoFocus","dName","faTrash","faPencilAlt","alt","src","faHeart","faComment","title","open","faShare","SweetFactory","setSweet","attachment","setAttachment","fileRef","uuidv4","uploadString","uploadFile","getDownloadURL","creatorId","addDoc","collection","maxLength","onsubmit","htmlFor","faPlus","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","readAsDataURL","opacity","backgroundImage","Home","sweets","setSweets","useEffect","q","query","orderBy","unsubscribe","onSnapshot","snapshot","sweetArray","docs","Navigation","onDarkMode","display","justifyContent","to","activeClassName","faHome","faUser","faEnvelope","faMoon","faEllipsisH","Profile","refreshUser","newDisplayName","setNewDisplayName","updateProfile","currentUser","then","catch","signOut","msgArr","Message","userName","setOpen","msg","setMsg","onOpen","fontWeight","alignItems","padding","marginRight","random","SweetDetail","params","useParams","setSweetObj","split","AppRouter","isLoggedIn","exact","path","from","App","init","setInit","setUserObj","setDarkMode","onAuthStateChanged","args","Boolean","document","body","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createPromiseThunk","promiseCreator","SUCCESS","ERROR","param","dispatch","payload","handleAsyncActions","key","keepData","state","action","reducerUtils","loading","success","initial","prevState","getSweets","getSweetById","GET_SWEETS","GET_SWEETS_SUCCESS","GET_SWEETS_ERROR","GET_SWEET","GET_SWEET_SUCCESS","GET_SWEET_ERROR","initialState","sweetsApi","getSweetsReducer","getSweetReducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","ReduxThunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7dfd7c91.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from 'firebase/app';\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\n\r\nexport const authService = getAuth();\r\nexport const dbService = getFirestore();\r\nexport const storageService = getStorage();\r\n","import React, { useState } from 'react';\r\nimport { authService } from 'fbase';\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from 'firebase/auth';\r\n\r\nconst AuthForm = () => {\r\n  const [loginInputs, setLoginInputs] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const { email, password } = loginInputs;\r\n  const [error, setError] = useState('');\r\n  const [newAccount, setNewAccount] = useState(true);\r\n\r\n  const onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setLoginInputs({\r\n      ...loginInputs,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      let data;\r\n      if (newAccount) {\r\n        // create newAccount\r\n        data = await createUserWithEmailAndPassword(authService, email, password);\r\n      } else {\r\n        // log in\r\n        data = await signInWithEmailAndPassword(authService, email, password);\r\n      }\r\n      console.log('Auth data', data);\r\n    } catch (error) {\r\n      // console.log(error.message);\r\n      if (error.code.includes('weak-password')) {\r\n        setError('비밀번호는 6자 이상이어야 합니다.');\r\n      } else if (error.code.includes('wrong-password')) {\r\n        setError('비밀번호가 틀렸습니다.');\r\n      } else if (error.code.includes('user-not-found')) {\r\n        setError('가입되지 않는 이메일입니다.');\r\n      } else if (error.code.includes('email-already-in-use')) {\r\n        setError('이미 사용 중인 이메일입니다.');\r\n      } else if (error.code.includes('too-many')) {\r\n        setError('로그인 실패. 비밀번호를 재설정해주세요.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleAccount = () => {\r\n    setNewAccount((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit} className=\"container\">\r\n        <input\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n          className=\"authInput\"\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n          className=\"authInput\"\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          className=\"authInput authSubmit\"\r\n          value={newAccount ? '가입하기' : '로그인'}\r\n        />\r\n        {error && <span className=\"authError\">{error}</span>}\r\n      </form>\r\n      <span onClick={toggleAccount} className=\"authSwitch\">\r\n        {newAccount ? '로그인하기' : '이메일로 가입하기'}\r\n      </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import React from 'react';\r\nimport { authService } from 'fbase';\r\nimport { GoogleAuthProvider, GithubAuthProvider, signInWithPopup } from 'firebase/auth';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTwitter, faGoogle, faGithub } from '@fortawesome/free-brands-svg-icons';\r\nimport AuthForm from 'components/AuthForm';\r\n\r\nconst Auth = ({ darkMode }) => {\r\n  const onSocialClick = async ({ target: { name } }) => {\r\n    let provider;\r\n    try {\r\n      if (name === 'google') {\r\n        provider = new GoogleAuthProvider();\r\n        await signInWithPopup(authService, provider);\r\n        // const credential = GoogleAuthProvider.credentialFromResult(result);\r\n        // const token = credential.accessToken;\r\n      } else if (name === 'github') {\r\n        provider = new GithubAuthProvider();\r\n        await signInWithPopup(authService, provider);\r\n        // const credential = GithubAuthProvider.credentialFromResult(result);\r\n        // const token = credential.accessToken;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={darkMode ? 'authContainer dark' : 'authContainer'}>\r\n      <FontAwesomeIcon\r\n        icon={faTwitter}\r\n        color={'#9775fa'}\r\n        size=\"3x\"\r\n        style={{ marginBottom: 30 }}\r\n      />\r\n      <AuthForm />\r\n      <div className=\"authBtns\">\r\n        <button onClick={onSocialClick} name=\"google\" className=\"authBtn\">\r\n          Google로 로그인{' '}\r\n          <FontAwesomeIcon icon={faGoogle} color={'#fff'} style={{ marginLeft: 2 }} />\r\n        </button>\r\n        <button onClick={onSocialClick} name=\"github\" className=\"authBtn\">\r\n          Github로 로그인{' '}\r\n          <FontAwesomeIcon icon={faGithub} color={'#fff'} style={{ marginLeft: 2 }} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","export function displayedAt(createdAt) {\r\n  const milliSeconds = new Date() - createdAt;\r\n  const seconds = milliSeconds / 1000;\r\n  if (seconds < 60) return `방금 전`;\r\n  const minutes = seconds / 60;\r\n  if (minutes < 60) return `${Math.floor(minutes)}분 전`;\r\n  const hours = minutes / 60;\r\n  if (hours < 24) return `${Math.floor(hours)}시간 전`;\r\n  const days = hours / 24;\r\n  if (days < 7) return `${Math.floor(days)}일 전`;\r\n  const weeks = days / 7;\r\n  if (weeks < 5) return `${Math.floor(weeks)}주 전`;\r\n  const months = days / 30;\r\n  if (months < 12) return `${Math.floor(months)}개월 전`;\r\n  const years = days / 365;\r\n  return `${Math.floor(years)}년 전`;\r\n}\r\n\r\n// export const getCreatedAt = () => {\r\n//   const month = new Date(sweetObj.createdAt).getMonth() + 1;\r\n//   const date = new Date(sweetObj.createdAt).getDate();\r\n//   const hour = new Date(sweetObj.createdAt).getHours();\r\n//   const min = new Date(sweetObj.createdAt).getMinutes();\r\n//   return `${displayedAt(sweetObj.createdAt)}`;\r\n// };\r\n","import { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useState } from 'react';\r\nimport { displayedAt } from 'utils/time';\r\n\r\nfunction SweetComment({ handleAddComment, handleDeleteComment, comments, userObj }) {\r\n  const [comment, setComment] = useState('');\r\n\r\n  const onChange = (e) => setComment(e.target.value);\r\n\r\n  const clearComment = () => setComment('');\r\n\r\n  const onHandleAddComment = (e) => {\r\n    e.preventDefault();\r\n    handleAddComment(comment, clearComment);\r\n  };\r\n\r\n  return (\r\n    <div className=\"comments-container\">\r\n      <div style={{ marginTop: 10 }}>\r\n        <form className=\"commentForm\" onSubmit={onHandleAddComment}>\r\n          <div className=\"commentInput__container\">\r\n            <input\r\n              className=\"commentInput__input\"\r\n              type=\"text\"\r\n              name=\"comment\"\r\n              value={comment}\r\n              onChange={onChange}\r\n              placeholder=\"댓글 달기\"\r\n              required\r\n            />\r\n            <input\r\n              className=\"commentInput__arrow\"\r\n              type=\"submit\"\r\n              value=\"&rarr;\"\r\n              onSubmit={onHandleAddComment}\r\n            />\r\n          </div>\r\n        </form>\r\n        <div className=\"comments\">\r\n          {comments?.map((comment) => (\r\n            <div className=\"comment\" key={comment.createdAt}>\r\n              <div className=\"hello\">\r\n                <div className=\"info\">\r\n                  <span className=\"dname\">{comment.name || '♥'}</span>\r\n                  <span className=\"mini\">{displayedAt(comment.createdAt)}</span>\r\n                </div>\r\n                {comment.uid === userObj.uid && (\r\n                  <button\r\n                    className=\"delcommentBtn\"\r\n                    onClick={() => handleDeleteComment(comment.createdAt)}\r\n                  >\r\n                    <FontAwesomeIcon icon={faTimes} />\r\n                  </button>\r\n                )}\r\n              </div>\r\n              <div className=\"ctext\">{comment.text}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SweetComment;\r\n","import React, { useState } from 'react';\r\nimport { dbService, storageService } from 'fbase';\r\nimport { doc, deleteDoc, updateDoc } from 'firebase/firestore';\r\nimport { ref, deleteObject } from '@firebase/storage';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faTrash,\r\n  faPencilAlt,\r\n  faHeart,\r\n  faShare,\r\n  faComment,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { displayedAt } from 'utils/time';\r\nimport SweetComment from './SweetComment';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Sweet = ({ userObj, sweetObj, isOwner, darkMode }) => {\r\n  // console.log('Sweet userObj', userObj, 'sweetObj', sweetObj);\r\n\r\n  const history = useHistory();\r\n\r\n  const comments = sweetObj.comments.sort((a, b) => b.createdAt - a.createdAt);\r\n\r\n  const [text, setText] = useState({\r\n    sweet: sweetObj.text,\r\n    comment: '',\r\n  });\r\n  const { sweet, comment } = text;\r\n\r\n  const [editing, setEditing] = useState(false);\r\n  const [addComment, setAddComment] = useState(false);\r\n\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm('스윗을 삭제하시겠습니까?');\r\n    // console.log(ok);\r\n    if (ok) {\r\n      // delete sweet\r\n      // await deleteDoc(doc(dbService, 'sweets', sweetObj.id));\r\n      await deleteDoc(doc(dbService, `sweets/${sweetObj.id}`));\r\n      if (sweetObj.attachmentUrl !== '') {\r\n        await deleteObject(ref(storageService, sweetObj.attachmentUrl));\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleEditing = (e) => {\r\n    setEditing((prev) => !prev);\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('sweetObj', sweetObj, '/ newSweet', sweet);\r\n    await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n      text: sweet,\r\n    });\r\n    setEditing(false);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setText({\r\n      ...text,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const like = async () => {\r\n    const iLike = sweetObj.likes.includes(userObj.uid);\r\n    if (!iLike) {\r\n      await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n        likes: [...sweetObj.likes, userObj.uid],\r\n      });\r\n    } else {\r\n      await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n        likes: sweetObj.likes.filter((user) => user !== userObj.uid),\r\n      });\r\n    }\r\n  };\r\n\r\n  const getCount = (name) => {\r\n    let count = 0;\r\n    if (name === 'likes') {\r\n      for (let i = 0; i < sweetObj.likes.length; i++) {\r\n        count += 1;\r\n      }\r\n      return count;\r\n    } else if (name === 'comments') {\r\n      for (let i = 0; i < sweetObj.comments.length; i++) {\r\n        count += 1;\r\n      }\r\n      return count;\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (comment, clearComment) => {\r\n    if (comment !== '') {\r\n      await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n        comments: [\r\n          ...sweetObj.comments,\r\n          {\r\n            uid: userObj.uid,\r\n            createdAt: Date.now(),\r\n            name: userObj.displayName,\r\n            text: comment,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    clearComment();\r\n  };\r\n\r\n  const handleDeleteComment = async (cid) => {\r\n    if (!window.confirm('댓글을 삭제하시겠습니까?')) return;\r\n    // console.log('comment', uid, 'delete comment createdAt', cid);\r\n\r\n    // 삭제하려는 문서 id(cid)의 uid가 나의 아이디(uid)와 같을 때\r\n    await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n      comments: sweetObj.comments.filter((comment) => comment.createdAt !== cid),\r\n    });\r\n  };\r\n\r\n  function shareTwitter() {\r\n    const title = 'Switter';\r\n    const pageUrl = 'https://vanillovin.github.io/switter';\r\n    window.open(\r\n      `https://twitter.com/intent/tweet?text=${title}&url=${pageUrl}`,\r\n      'popup제목',\r\n      'width=500, height=400, scrollbars=yes'\r\n    );\r\n  }\r\n\r\n  const goToSweetDetail = (e) => {\r\n    if (e.target !== e.currentTarget) return;\r\n    // e.stopImmediatePropagation();\r\n    history.push(sweetObj.id);\r\n  };\r\n\r\n  return (\r\n    <div className={darkMode ? 'sweet dark' : 'sweet'} onClick={goToSweetDetail}>\r\n      {editing ? (\r\n        <>\r\n          <form className=\"container sweetEdit\" onSubmit={onSubmit}>\r\n            <input\r\n              className=\"formInput\"\r\n              type=\"text\"\r\n              placeholder=\"스윗 수정하기\"\r\n              name=\"sweet\"\r\n              required\r\n              autoFocus\r\n              value={sweet}\r\n              onChange={onChange}\r\n            />\r\n            <input type=\"submit\" value=\"스윗 업데이트\" className=\"formBtn\" />\r\n          </form>\r\n          <span onClick={(prev) => setEditing(!prev)} className=\"formBtn cancelBtn\">\r\n            취소\r\n          </span>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"hello\">\r\n            <div className=\"info\">\r\n              <span className=\"dname\">{sweetObj.dName || '♥'}</span>\r\n              <span className=\"mini\">{displayedAt(sweetObj.createdAt)}</span>\r\n            </div>\r\n            {isOwner && (\r\n              <div className=\"sweet__actions\">\r\n                <span onClick={onDeleteClick}>\r\n                  <FontAwesomeIcon icon={faTrash} />\r\n                </span>\r\n                <span onClick={toggleEditing}>\r\n                  <FontAwesomeIcon icon={faPencilAlt} />\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <p className=\"sweet__text\" onClick={goToSweetDetail}>\r\n            {sweetObj.text}\r\n          </p>\r\n          {sweetObj.attachmentUrl && (\r\n            <img alt=\"img\" src={sweetObj.attachmentUrl} onClick={goToSweetDetail} />\r\n          )}\r\n          <>\r\n            <div className=\"bottom\">\r\n              <button onClick={like}>\r\n                <FontAwesomeIcon\r\n                  icon={faHeart}\r\n                  style={{\r\n                    color: sweetObj.likes.includes(userObj.uid) && '#e05d5d',\r\n                  }}\r\n                />\r\n                <span>{' ' + getCount('likes')}</span>\r\n              </button>\r\n              <button onClick={() => setAddComment(!addComment)}>\r\n                <FontAwesomeIcon icon={faComment} />\r\n                <span>{' ' + getCount('comments')}</span>\r\n              </button>\r\n              <button\r\n                title=\"트위터에 공유하기\"\r\n                onClick={() => shareTwitter(sweetObj.text)}\r\n              >\r\n                <FontAwesomeIcon icon={faShare} />\r\n              </button>\r\n            </div>\r\n            {/* comments */}\r\n            {addComment && (\r\n              <SweetComment\r\n                addComment={addComment}\r\n                handleAddComment={handleAddComment}\r\n                handleDeleteComment={handleDeleteComment}\r\n                comments={comments}\r\n                userObj={userObj}\r\n              />\r\n            )}\r\n          </>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sweet;\r\n","import React, { useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { dbService, storageService } from 'fbase';\r\nimport { addDoc, collection } from 'firebase/firestore';\r\nimport { ref, uploadString, getDownloadURL } from '@firebase/storage';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst SweetFactory = ({ userObj, darkMode }) => {\r\n  // console.log('SweetFactory userObj', userObj);\r\n  const [sweet, setSweet] = useState('');\r\n  const [attachment, setAttachment] = useState('');\r\n\r\n  const onSubmit = async (e) => {\r\n    if (sweet === '') {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n    let attachmentUrl = '';\r\n    if (attachment !== '') {\r\n      // 파일 경로 참조 만들기\r\n      const fileRef = ref(storageService, `${userObj.uid}/${uuidv4()}`);\r\n      // storage 참조 경로로 파일 업로드 하기\r\n      const uploadFile = await uploadString(fileRef, attachment, 'data_url');\r\n      console.log(uploadFile);\r\n      // storage에 있는 파일 URL로 다운로드 받기\r\n      attachmentUrl = await getDownloadURL(uploadFile.ref);\r\n    }\r\n\r\n    // 트윗할 때, 메시지와 사진도 같이 firestore에 생성\r\n    const sweetObj = {\r\n      text: sweet,\r\n      createdAt: Date.now(),\r\n      creatorId: userObj.uid,\r\n      attachmentUrl,\r\n      dName: userObj.displayName,\r\n      email: userObj.email,\r\n      likes: [],\r\n      comments: [],\r\n    };\r\n    await addDoc(collection(dbService, 'sweets'), sweetObj);\r\n    setSweet('');\r\n    setAttachment('');\r\n  };\r\n\r\n  const onChange = ({ target: { value } }) => {\r\n    setSweet(value);\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader(); // fileReader API 파일 이름을 읽음\r\n    reader.onloadend = (finishedEvent) => {\r\n      // console.log('finishedEvent', finishedEvent);\r\n      const {\r\n        currentTarget: { result },\r\n      } = finishedEvent;\r\n      setAttachment(result);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  const onClearAttachment = () => setAttachment('');\r\n\r\n  return (\r\n    <form\r\n      onSubmit={onSubmit}\r\n      className={darkMode ? 'factoryForm dark' : 'factoryForm'}\r\n    >\r\n      <div className=\"factoryInput__container\">\r\n        <input\r\n          className=\"factoryInput__input\"\r\n          value={sweet}\r\n          onChange={onChange}\r\n          type=\"text\"\r\n          placeholder=\"무슨 달콤한 생각을 하고 있나요?\"\r\n          maxLength={120}\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"&rarr;\"\r\n          className=\"factoryInput__arrow\"\r\n          onSubmit={onsubmit}\r\n        />\r\n      </div>\r\n      <label htmlFor=\"attach-file\" className=\"factoryInput__label\">\r\n        <span>사진 선택하기</span>\r\n        <FontAwesomeIcon icon={faPlus} />\r\n      </label>\r\n      <input\r\n        id=\"attach-file\"\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={onFileChange}\r\n        style={{\r\n          opacity: 0,\r\n        }}\r\n      />\r\n      {attachment && (\r\n        <div className=\"factoryForm__attachment\">\r\n          <img\r\n            alt=\"img\"\r\n            src={attachment}\r\n            style={{\r\n              backgroundImage: attachment,\r\n            }}\r\n          />\r\n          <div className=\"factoryForm__clear\" onClick={onClearAttachment}>\r\n            <span>제거하기</span>\r\n            <FontAwesomeIcon icon={faTimes} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SweetFactory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { collection, getFirestore, onSnapshot, orderBy, query } from 'firebase/firestore';\r\nimport Sweet from 'components/Sweet';\r\nimport SweetFactory from 'components/SweetFactory';\r\n\r\nconst Home = ({ userObj, darkMode }) => {\r\n  const [sweets, setSweets] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // onSnapshot은 데이터베이스의 변화를 실시간으로 알려주는 기능\r\n    // 실시간으로 데이터를 데이터베이스에서 가져오기 (쿼리 스냅샷 차이)\r\n    // snapshot은 우리가 가진 query와 같은 것 docs를 갖고 있음\r\n    const q = query(collection(getFirestore(), 'sweets'), orderBy('createdAt', 'desc'));\r\n\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      // console.log('something happened-read, delete, update..');\r\n      const sweetArray = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        likes: doc.data().likes,\r\n        comments: doc.data().comments,\r\n        ...doc.data(),\r\n      }));\r\n      setSweets(sweetArray);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={darkMode ? 'container dark' : 'container'}>\r\n      <SweetFactory userObj={userObj} darkMode={darkMode} />\r\n      <div style={{ marginTop: 30 }} className=\"sweet-container\">\r\n        {sweets.map((sweet) => (\r\n          <Sweet\r\n            key={sweet.id}\r\n            userObj={userObj}\r\n            sweetObj={sweet}\r\n            isOwner={sweet.creatorId === userObj.uid}\r\n            darkMode={darkMode}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons';\r\nimport {\r\n  faEllipsisH,\r\n  faEnvelope,\r\n  faHome,\r\n  faMoon,\r\n  faUser,\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Navigation = ({ userObj, darkMode, onDarkMode }) => {\r\n  return (\r\n    <nav className={darkMode ? 'nav dark' : 'nav'}>\r\n      {/* <ul style={{ display: 'flex', justifyContent: 'center', marginTop: 50 }}> */}\r\n      <ul style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <li className=\"logo\">\r\n          <NavLink to=\"/\" className=\"navlink\" activeClassName=\"\">\r\n            <FontAwesomeIcon icon={faTwitter} size=\"2x\" />\r\n            <span>♥</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"home\">\r\n          <NavLink to=\"/\" className=\"navlink\" activeClassName=\"\">\r\n            <FontAwesomeIcon icon={faHome} size=\"2x\" />\r\n            <span>home</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"profile\">\r\n          <NavLink className=\"navlink\" activeClassName=\"\" to=\"/profile\">\r\n            <FontAwesomeIcon icon={faUser} size=\"2x\" />\r\n            <span>{userObj.displayName ? `${userObj.displayName}` : '♥'}</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"msg\">\r\n          <NavLink to=\"/msg\" className=\"navlink\" activeClassName=\"active\">\r\n            <FontAwesomeIcon icon={faEnvelope} size=\"2x\" />\r\n            <span>{'+1'}</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"dark navlink\" onClick={onDarkMode}>\r\n          <FontAwesomeIcon\r\n            icon={faMoon}\r\n            size=\"2x\"\r\n            color={darkMode ? '#e9c77b' : '#000000cc'}\r\n          />\r\n          <span>{darkMode ? 'light' : 'dark'}</span>\r\n        </li>\r\n        <li className=\"more navlink\">\r\n          <FontAwesomeIcon icon={faEllipsisH} size=\"2x\" />\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { authService } from 'fbase';\r\nimport { signOut, updateProfile } from '@firebase/auth';\r\n// import { collection, getDocs, orderBy, query, where } from '@firebase/firestore';\r\n\r\nconst Profile = ({ refreshUser, userObj, darkMode }) => {\r\n  const history = useHistory();\r\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n\r\n  const onLogOutClick = () => {\r\n    signOut(authService); // auth.signOut();\r\n    history.push('/');\r\n  };\r\n\r\n  const onChange = ({ target: { value } }) => {\r\n    setNewDisplayName(value);\r\n  };\r\n\r\n  // updateProfile 2 update - displayName, photoURL\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (userObj.displayName !== newDisplayName) {\r\n      await updateProfile(authService.currentUser, {\r\n        displayName: newDisplayName,\r\n        // photoURL: 'https://example.com/jane-q-user/profile.jpg',\r\n      })\r\n        .then(() => {\r\n          // Profile updated!\r\n          refreshUser();\r\n        })\r\n        .catch((error) => {\r\n          // An error occurred\r\n        });\r\n    }\r\n  };\r\n\r\n  // const getMySweets = async () => {\r\n  //   const q = query(\r\n  //     collection(dbService, 'sweets'),\r\n  //     where('creatorId', '==', userObj.uid) // 필터링\r\n  //   );\r\n  //   const querySnapshot = await getDocs(q);\r\n  //   querySnapshot.forEach((doc) => {\r\n  //     console.log(doc.id, ' => ', doc.data());\r\n  //   });\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   getMySweets();\r\n  // }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* <div style={{ fontWeight: 'bold' }}>{userObj.displayName}</div>\r\n      <div>{userObj.email}</div> */}\r\n      <form onSubmit={onSubmit} className={darkMode ? 'profileForm dark' : 'profileForm'}>\r\n        <input\r\n          onChange={onChange}\r\n          type=\"text\"\r\n          placeholder=\"Display name\"\r\n          value={newDisplayName || ''}\r\n          className=\"formInput\"\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"프로필 업데이트\"\r\n          className=\"formBtn\"\r\n          style={{\r\n            marginTop: 10,\r\n          }}\r\n        />\r\n      </form>\r\n      <span className=\"formBtn logOut\" onClick={onLogOutClick}>\r\n        로그아웃\r\n      </span>\r\n    </div>\r\n    // <>\r\n    //   <form onSubmit={onSubmit}>\r\n    //     <input\r\n    //       onChange={onChange}\r\n    //       type=\"test\"\r\n    //       placeholder=\"Display name\"\r\n    //       value={newDisplayName}\r\n    //     />\r\n    //     <input type=\"submit\" value=\"Updata Profile\" />\r\n    //   </form>\r\n    //   <button onClick={onLogOutClick}>Log Out</button>\r\n    // </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useState } from 'react';\r\n\r\nconst msgArr = [\r\n  '누군가를 사랑하고자 한다면 너 자신을 먼저 사랑해야 해',\r\n  '앞이 보이지 않을 때는 지금 할 수 있는 일을 하면 돼',\r\n  '진정한 아름다움은 내면에 있어',\r\n  '그렇게 구경만 하다가는 네 인생이 너 없이 흘러가는 걸 구경하게 될걸',\r\n  '마음만을 가지고 있어서는 안 된다. 반드시 실천해야 한다',\r\n  '소심해질 시간 없어 용감하고 대담하게 해',\r\n  '기억해 너는 세상을 빛으로 가득 채울 수 있는 존재란 걸',\r\n  '사랑은 누군가를 나보다 먼저 두는 거야',\r\n  '용기를 내',\r\n  '행운을 빌어',\r\n  '너에게는 아직 꿈을 이루기 위한 충분한 시간이 있어',\r\n  '힘내. 인생은 한순간에 바뀌기도 하는 거니까',\r\n  '큰 희망이 큰 사람을 만든다',\r\n  '가끔은 옳은 길이 가장 쉬운 길이 아닐 때도 있지',\r\n  '절대로 고개를 떨구지 말라 고개를 치켜들고 세상을 똑바로 보라',\r\n  '시간은 아무도 기다려주지 않아',\r\n  '아름다움은 사라져 버리지만 마음에서 우러나는 것은 사라지지 않아. 유머, 친절함, 용기',\r\n  '중요한 건 겉모습이 아닌 마음이야',\r\n  '간절히 바라는 마음이 있어야 마법이 일어날 수 있어',\r\n  '역경을 이겨내고 핀 꽃이 가장 아름다운 꽃이란다',\r\n  '눈을 감지 말고 똑바로 봐. 두려움의 실체는 생각과 다를 수 있어',\r\n];\r\n\r\nconst Message = ({ userName }) => {\r\n  const [open, setOpen] = useState(true);\r\n  const [msg, setMsg] = useState(`${userName || 'hey'} 클릭해봐 :)`);\r\n\r\n  const onOpen = () => setOpen(!open);\r\n\r\n  const randomMsg = () => setMsg(msgArr[Math.floor(Math.random() * msgArr.length)]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"msg-container\">\r\n        <div className=\"msgh\">\r\n          <span>Message</span>\r\n        </div>\r\n\r\n        {open ? (\r\n          <div className=\"msgs\" onClick={onOpen}>\r\n            <div className=\"chat\">\r\n              <div style={{ fontWeight: 'bold', marginBottom: 12 }}>\r\n                <FontAwesomeIcon icon={faUser} /> {'익명'}\r\n              </div>\r\n              <span>{msg}</span>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"back\" onClick={onOpen}>\r\n              {open ? '' : '←'}\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                padding: 20,\r\n              }}\r\n            >\r\n              <div style={{ marginRight: 10 }}>\r\n                <FontAwesomeIcon icon={faUser} color=\"black\" />\r\n              </div>\r\n              <div className=\"mymsg\" onClick={randomMsg}>\r\n                <span>{msg}</span>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import {\r\n  faComment,\r\n  faHeart,\r\n  faPencilAlt,\r\n  faShare,\r\n  faTrash,\r\n  faEllipsisH,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { dbService } from 'fbase';\r\nimport {\r\n  collection,\r\n  doc,\r\n  getFirestore,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  updateDoc,\r\n} from 'firebase/firestore';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport SweetComment from './SweetComment';\r\n\r\nfunction SweetDetail({ userObj, darkMode }) {\r\n  const params = useParams();\r\n  const history = useHistory();\r\n\r\n  const [sweetObj, setSweetObj] = useState({});\r\n  const { dName, email, text, attachmentUrl, comments, likes } = sweetObj;\r\n\r\n  useEffect(() => {\r\n    // onSnapshot은 데이터베이스의 변화를 실시간으로 알려주는 기능\r\n    // 실시간으로 데이터를 데이터베이스에서 가져오기 (쿼리 스냅샷 차이)\r\n    // snapshot은 우리가 가진 query와 같은 것 docs를 갖고 있음\r\n    const q = query(collection(getFirestore(), 'sweets'), orderBy('createdAt', 'desc'));\r\n\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      //  [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}] sweetArr\r\n      const sweets = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        likes: doc.data().likes,\r\n        comments: doc.data().comments,\r\n        ...doc.data(),\r\n      }));\r\n      const sweet = sweets.filter((sweet) => sweet.id === params.id)[0];\r\n      setSweetObj(sweet);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  const handleAddComment = async (comment, clearComment) => {\r\n    if (comment !== '') {\r\n      await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n        comments: [\r\n          ...sweetObj.comments,\r\n          {\r\n            uid: userObj.uid,\r\n            createdAt: Date.now(),\r\n            name: userObj.displayName,\r\n            text: comment,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    clearComment();\r\n  };\r\n\r\n  return (\r\n    <div className={darkMode ? 'sweetDetailContainer dark' : 'sweetDetailContainer'}>\r\n      <div className=\"sweetDetailTop\">\r\n        <button onClick={() => history.push('/')}>←</button>\r\n        스레드\r\n      </div>\r\n      <div className=\"sweetDetail\">\r\n        <div className=\"sweetDetailTopInfo\" onClick={() => {}}>\r\n          <div className=\"userInfo\">\r\n            <div className=\"profile\"></div>\r\n            <div className=\"text\">\r\n              <span className=\"\">{dName || '♥'}</span>\r\n              <span className=\"\">@{email?.split('@')[0]}</span>\r\n            </div>\r\n          </div>\r\n          <FontAwesomeIcon icon={faEllipsisH} />\r\n          {/* {isOwner && (\r\n            <div className=\"buttons\">\r\n              <button onClick={() => {}}>\r\n                <FontAwesomeIcon icon={faTrash} />\r\n              </button>\r\n              <button onClick={() => {}}>\r\n                <FontAwesomeIcon icon={faPencilAlt} />\r\n              </button>\r\n            </div>\r\n          )} */}\r\n        </div>\r\n        <p className=\"sweetDetailContent\">{text}</p>\r\n        {attachmentUrl && <img alt=\"img\" src={attachmentUrl} />}\r\n\r\n        <div className=\"sweetDetailInfo\">\r\n          <div className=\"commentText\">\r\n            <span style={{ fontWeight: 'bold' }}>{comments?.length}</span> 답글\r\n          </div>\r\n          <div>\r\n            <span style={{ fontWeight: 'bold' }}>{likes?.length}</span> 마음에 들어요\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"sweetDetailActions\">\r\n          <button title=\"마음에 들어요\" onClick={() => {}}>\r\n            <FontAwesomeIcon\r\n              icon={faHeart}\r\n              style={{\r\n                color: likes?.includes(userObj.uid) && '#e05d5d',\r\n              }}\r\n            />\r\n          </button>\r\n          <button title=\"답글\">\r\n            <FontAwesomeIcon icon={faComment} />\r\n          </button>\r\n          <button title=\"트위터에 공유하기\" onClick={() => {}}>\r\n            <FontAwesomeIcon icon={faShare} />\r\n          </button>\r\n        </div>\r\n\r\n        <SweetComment\r\n          handleAddComment={handleAddComment}\r\n          handleDeleteComment={() => {}}\r\n          comments={comments}\r\n          userObj={userObj}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SweetDetail;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport Auth from '../routes/Auth';\r\nimport Home from '../routes/Home';\r\nimport Navigation from 'components/Navigation';\r\nimport Profile from 'routes/Profile';\r\nimport Message from 'components/Message';\r\nimport SweetDetail from './SweetDetail';\r\n\r\nconst AppRouter = ({ refreshUser, isLoggedIn, userObj, darkMode, onDarkMode }) => {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <>\r\n          <div className={darkMode ? 'test dark' : 'test'}>\r\n            <div className={darkMode ? 'left dark' : 'left'}>\r\n              {isLoggedIn && (\r\n                <Navigation\r\n                  userObj={userObj}\r\n                  darkMode={darkMode}\r\n                  onDarkMode={onDarkMode}\r\n                />\r\n              )}\r\n            </div>\r\n            {isLoggedIn ? (\r\n              <div className={darkMode ? 'right dark' : 'right'}>\r\n                <Route exact path=\"/\">\r\n                  <Home userObj={userObj} darkMode={darkMode} onDarkMode={onDarkMode} />\r\n                </Route>\r\n                <Route exact path=\"/:id\">\r\n                  <SweetDetail userObj={userObj} darkMode={darkMode} />\r\n                </Route>\r\n                <Route exact path=\"/profile\">\r\n                  <Profile\r\n                    userObj={userObj}\r\n                    refreshUser={refreshUser}\r\n                    darkMode={darkMode}\r\n                  />\r\n                </Route>\r\n                <Route exact path=\"/msg\">\r\n                  <Message userName={userObj.displayName} />\r\n                </Route>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <Route exact path=\"/\">\r\n                  <Auth darkMode={darkMode} />\r\n                </Route>\r\n                <Redirect from=\"*\" to=\"/\" />\r\n              </>\r\n            )}\r\n          </div>\r\n        </>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React, { useState, useEffect } from 'react';\nimport AppRouter from './Router';\nimport { authService } from 'fbase';\nimport { onAuthStateChanged } from 'firebase/auth';\n\nfunction App() {\n  // console.log('유저의 로그인 여부', authService.currentUser);\n  const [init, setInit] = useState(false); // flase면 router 숨기기\n  // userObj의 제일 처음 출발점!\n  const [userObj, setUserObj] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n\n  // 처음 시작할 때. 컴포넌트가 mount 될 때\n  useEffect(() => {\n    // 사용자의 로그인 상태의 변화를 관찰하는 관찰자 추가\n    onAuthStateChanged(authService, (user) => {\n      if (user) {\n        // setUserObj(user);\n        setUserObj({\n          email: user.email,\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        // User is signed out\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  // firebase의 정보를 가지고 react를 업데이트\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      email: user.email,\n      displayName: user.displayName,\n      uid: user.uid,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n\n  const onDarkMode = () => {\n    darkMode\n      ? (document.body.style = 'background-color: #fff8e5')\n      : (document.body.style = 'background-color: #193446');\n    setDarkMode(!darkMode);\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n          darkMode={darkMode}\n          onDarkMode={onDarkMode}\n        />\n      ) : (\n        <div style={{ marginTop: 10 }}>Initializing....</div>\n      )}\n      {/* <footer>&copy; {new Date().getFullYear()} Switter</footer> */}\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const createPromiseThunk = (type, promiseCreator) => {\r\n  const [SUCCESS, ERROR] = [`${type}_SUCCESS`, `${type}_ERROR`];\r\n\r\n  const thunkCreator = (param) => async (dispatch) => {\r\n    dispatch({ type });\r\n    try {\r\n      const payload = await promiseCreator(param);\r\n      dispatch({\r\n        type: SUCCESS,\r\n        payload,\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: ERROR,\r\n        payload: e,\r\n        error: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return thunkCreator;\r\n};\r\n\r\nexport const handleAsyncActions = (type, key, keepData) => {\r\n  const [SUCCESS, ERROR] = [`${type}_SUCCESS`, `${type}_ERROR`];\r\n  return (state, action) => {\r\n    switch (action.type) {\r\n      case type:\r\n        return {\r\n          ...state,\r\n          [key]: reducerUtils.loading(keepData ? state[key].data : null),\r\n        };\r\n      case SUCCESS:\r\n        return {\r\n          ...state,\r\n          [key]: reducerUtils.success(action.payload),\r\n        };\r\n      case ERROR:\r\n        return {\r\n          ...state,\r\n          [key]: reducerUtils.error(action.payload),\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n};\r\n\r\nexport const reducerUtils = {\r\n  initial: (data = null) => ({\r\n    loading: false,\r\n    data,\r\n    error: null,\r\n  }),\r\n  // prevState - 데이터요청이시작되면null인데 로딩값만 바꾸고 기본값은 유지하고싶을수있음\r\n  loading: (prevState = null) => ({\r\n    loading: true,\r\n    data: prevState,\r\n    error: null,\r\n  }),\r\n  success: (data) => ({\r\n    loading: false,\r\n    data,\r\n    error: null,\r\n  }),\r\n  error: (error) => ({\r\n    loading: false,\r\n    data: null,\r\n    error,\r\n  }),\r\n};\r\n","import { collection, getFirestore, onSnapshot, orderBy, query } from 'firebase/firestore';\r\n\r\nexport const getSweets = async () => {\r\n  // await sleep(500);\r\n  return [];\r\n};\r\n\r\nexport const getSweetById = async (id) => {\r\n  const q = query(collection(getFirestore(), 'sweets'), orderBy('createdAt', 'desc'));\r\n  let sweet = {};\r\n  const unsubscribe = onSnapshot(q, (snapshot) => {\r\n    const sweets = snapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      likes: doc.data().likes,\r\n      comments: doc.data().comments,\r\n      ...doc.data(),\r\n    }));\r\n    sweet = sweets.filter((sweet) => sweet.id === id)[0];\r\n  });\r\n  return [];\r\n};\r\n","import { reducerUtils, createPromiseThunk, handleAsyncActions } from 'lib/asyncUtils';\r\nimport * as sweetsApi from '../api/sweets';\r\n\r\nconst GET_SWEETS = 'GET_SWEETS';\r\nconst GET_SWEETS_SUCCESS = 'GET_SWEETS_SUCCESS';\r\nconst GET_SWEETS_ERROR = 'GET_SWEETS_ERROR';\r\n\r\nconst GET_SWEET = 'GET_SWEET';\r\nconst GET_SWEET_SUCCESS = 'GET_SWEET_SUCCESS';\r\nconst GET_SWEET_ERROR = 'GET_SWEET_ERROR';\r\n\r\nexport const getSweets = createPromiseThunk(GET_SWEETS, sweetsApi.getSweets);\r\nexport const getSweet = createPromiseThunk(GET_SWEET, sweetsApi.getSweetById);\r\n\r\nconst initialState = {\r\n  sweets: reducerUtils.initial(),\r\n  sweet: reducerUtils.initial(),\r\n};\r\n\r\nconst getSweetsReducer = handleAsyncActions(GET_SWEETS, 'sweets');\r\nconst getSweetReducer = handleAsyncActions(GET_SWEET, 'sweet');\r\n\r\n// reducer\r\nexport default function sweets(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_SWEETS:\r\n    case GET_SWEETS_SUCCESS:\r\n    case GET_SWEETS_ERROR:\r\n      return getSweetsReducer(state, action);\r\n    case GET_SWEET:\r\n    case GET_SWEET_SUCCESS:\r\n    case GET_SWEET_ERROR:\r\n      return getSweetReducer(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","// create root reducer\r\nimport { combineReducers } from 'redux';\r\nimport sweets from './sweets';\r\n\r\nconst rootReducer = combineReducers({ sweets });\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './styles.css';\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore } from 'redux';\nimport rootReducer from 'modules';\nimport ReduxThunk from 'redux-thunk';\n// import logger from 'redux-logger';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n// logger랑 다른 미들웨어 사용 시 logger를 맨 뒤에 설정. logger도 함수로 간주해 프린트함\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(ReduxThunk)));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}