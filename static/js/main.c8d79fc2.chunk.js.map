{"version":3,"sources":["fbase.js","components/AuthForm.js","routes/Auth.js","components/Sweet.js","components/SweetFactory.js","routes/Home.js","components/Navigation.js","routes/Profile.js","components/Message.js","components/Router.js","components/App.js","reportWebVitals.js","index.js"],"names":["initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","authService","getAuth","dbService","getFirestore","storageService","getStorage","AuthForm","useState","email","password","loginInputs","setLoginInputs","error","setError","newAccount","setNewAccount","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","errorMessage","message","className","type","placeholder","required","onClick","prev","Auth","darkMode","onSocialClick","provider","GoogleAuthProvider","signInWithPopup","GithubAuthProvider","icon","faTwitter","color","size","style","marginBottom","faGoogle","marginLeft","faGithub","Sweet","userObj","sweetObj","isOwner","comments","sort","b","createdAt","sweet","text","comment","setText","editing","setEditing","test","setTest","onDeleteClick","window","confirm","deleteDoc","doc","id","attachmentUrl","deleteObject","ref","e","updateDoc","displayedAt","seconds","Date","minutes","Math","floor","hours","days","weeks","months","years","like","likes","includes","uid","filter","user","getCount","count","i","length","addComment","now","displayName","deleteComment","cid","autoFocus","dName","faTrash","faPencilAlt","alt","src","faHeart","faComment","faShare","marginTop","map","faTimes","SweetFactory","setSweet","attachment","setAttachment","fileRef","uuidv4","uploadString","uploadFile","getDownloadURL","creatorId","addDoc","collection","maxLength","onsubmit","htmlFor","faPlus","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","opacity","backgroundImage","Home","sweets","setSweets","useEffect","q","query","orderBy","unsubscribe","onSnapshot","snapshot","sweetArray","docs","Navigation","onDarkMode","display","justifyContent","to","activeClassName","faHome","faUser","faEnvelope","faMoon","faEllipsisH","Profile","refreshUser","history","useHistory","newDisplayName","setNewDisplayName","updateProfile","currentUser","then","catch","signOut","push","Message","userName","open","setOpen","msg","setMsg","msgArr","onOpen","fontWeight","alignItems","padding","marginRight","random","AppRouter","isLoggedIn","exact","path","App","init","setInit","setUserObj","setDarkMode","onAuthStateChanged","args","Boolean","localStorage","getItem","document","body","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c8d79fc2.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from 'firebase/app';\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\n\r\nexport const authService = getAuth();\r\nexport const dbService = getFirestore();\r\nexport const storageService = getStorage();\r\n","import React, { useState } from 'react';\r\nimport { authService } from 'fbase';\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from 'firebase/auth';\r\n\r\nconst AuthForm = () => {\r\n  const [loginInputs, setLoginInputs] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const { email, password } = loginInputs;\r\n  const [error, setError] = useState('');\r\n  const [newAccount, setNewAccount] = useState(true);\r\n\r\n  const onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setLoginInputs({\r\n      ...loginInputs,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      let data;\r\n      if (newAccount) {\r\n        // create newAccount\r\n        data = await createUserWithEmailAndPassword(\r\n          authService,\r\n          email,\r\n          password\r\n        );\r\n      } else {\r\n        // log in\r\n        data = await signInWithEmailAndPassword(authService, email, password);\r\n      }\r\n      console.log('Auth data', data);\r\n    } catch (error) {\r\n      // const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      setError(errorMessage);\r\n    }\r\n  };\r\n\r\n  const toggleAccount = () => {\r\n    setNewAccount((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit} className=\"container\">\r\n        <input\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n          className=\"authInput\"\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n          className=\"authInput\"\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          className=\"authInput authSubmit\"\r\n          value={newAccount ? '가입하기' : '로그인'}\r\n        />\r\n        {error && <span className=\"authError\">{error}</span>}\r\n      </form>\r\n      <span onClick={toggleAccount} className=\"authSwitch\">\r\n        {newAccount ? '로그인하기' : '이메일로 가입하기'}\r\n      </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import React from 'react';\r\nimport { authService } from 'fbase';\r\nimport {\r\n  GoogleAuthProvider,\r\n  GithubAuthProvider,\r\n  signInWithPopup,\r\n} from 'firebase/auth';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faTwitter,\r\n  faGoogle,\r\n  faGithub,\r\n} from '@fortawesome/free-brands-svg-icons';\r\nimport AuthForm from 'components/AuthForm';\r\n\r\nconst Auth = ({ darkMode }) => {\r\n  const onSocialClick = async ({ target: { name } }) => {\r\n    let provider;\r\n    try {\r\n      if (name === 'google') {\r\n        provider = new GoogleAuthProvider();\r\n        await signInWithPopup(authService, provider);\r\n        // const credential = GoogleAuthProvider.credentialFromResult(result);\r\n        // const token = credential.accessToken;\r\n      } else if (name === 'github') {\r\n        provider = new GithubAuthProvider();\r\n        await signInWithPopup(authService, provider);\r\n        // const credential = GithubAuthProvider.credentialFromResult(result);\r\n        // const token = credential.accessToken;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={darkMode ? 'authContainer dark' : 'authContainer'}>\r\n      <FontAwesomeIcon\r\n        icon={faTwitter}\r\n        color={'#9775fa'}\r\n        size=\"3x\"\r\n        style={{ marginBottom: 30 }}\r\n      />\r\n      <AuthForm />\r\n      <div className=\"authBtns\">\r\n        <button onClick={onSocialClick} name=\"google\" className=\"authBtn\">\r\n          Google로 로그인{' '}\r\n          <FontAwesomeIcon\r\n            icon={faGoogle}\r\n            color={'#fff'}\r\n            style={{ marginLeft: 2 }}\r\n          />\r\n        </button>\r\n        <button onClick={onSocialClick} name=\"github\" className=\"authBtn\">\r\n          Github로 로그인{' '}\r\n          <FontAwesomeIcon\r\n            icon={faGithub}\r\n            color={'#fff'}\r\n            style={{ marginLeft: 2 }}\r\n          />\r\n        </button>\r\n      </div>\r\n    </div>\r\n    // <div>\r\n    //   <AuthForm />\r\n    //   <div>\r\n    //     <button onClick={onSocialClick} name=\"google\">\r\n    //       Continue with Google\r\n    //     </button>\r\n    //     <button onClick={onSocialClick} name=\"github\">\r\n    //       Continue with Github\r\n    //     </button>\r\n    //   </div>\r\n    // </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useState } from 'react';\r\nimport { dbService, storageService } from 'fbase';\r\nimport { doc, deleteDoc, updateDoc } from 'firebase/firestore';\r\nimport { ref, deleteObject } from '@firebase/storage';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faTrash,\r\n  faPencilAlt,\r\n  faHeart,\r\n  faShare,\r\n  faComment,\r\n  faTimes,\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Sweet = ({ userObj, sweetObj, isOwner, darkMode }) => {\r\n  // console.log('Sweet sweetObj', sweetObj);\r\n  const comments = sweetObj.comments.sort((a, b) => b.createdAt - a.createdAt);\r\n\r\n  const [text, setText] = useState({\r\n    sweet: sweetObj.text,\r\n    comment: '',\r\n  });\r\n  const { sweet, comment } = text;\r\n\r\n  const [editing, setEditing] = useState(false);\r\n  // 이름변경하기\r\n  const [test, setTest] = useState(false);\r\n\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm('스윗을 삭제하시겠습니까?');\r\n    // console.log(ok);\r\n    if (ok) {\r\n      // delete sweet\r\n      // await deleteDoc(doc(dbService, 'sweets', sweetObj.id));\r\n      await deleteDoc(doc(dbService, `sweets/${sweetObj.id}`));\r\n      if (sweetObj.attachmentUrl !== '') {\r\n        await deleteObject(ref(storageService, sweetObj.attachmentUrl));\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleEditing = (e) => {\r\n    setEditing((prev) => !prev);\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('sweetObj', sweetObj, '/ newSweet', sweet);\r\n    await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n      text: sweet,\r\n    });\r\n    setEditing(false);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setText({\r\n      ...text,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  function displayedAt(createdAt) {\r\n    const milliSeconds = new Date() - createdAt;\r\n    const seconds = milliSeconds / 1000;\r\n    if (seconds < 60) return `방금 전`;\r\n    const minutes = seconds / 60;\r\n    if (minutes < 60) return `${Math.floor(minutes)}분 전`;\r\n    const hours = minutes / 60;\r\n    if (hours < 24) return `${Math.floor(hours)}시간 전`;\r\n    const days = hours / 24;\r\n    if (days < 7) return `${Math.floor(days)}일 전`;\r\n    const weeks = days / 7;\r\n    if (weeks < 5) return `${Math.floor(weeks)}주 전`;\r\n    const months = days / 30;\r\n    if (months < 12) return `${Math.floor(months)}개월 전`;\r\n    const years = days / 365;\r\n    return `${Math.floor(years)}년 전`;\r\n  }\r\n\r\n  // const getCreatedAt = () => {\r\n  //   const month = new Date(sweetObj.createdAt).getMonth() + 1;\r\n  //   const date = new Date(sweetObj.createdAt).getDate();\r\n  //   const hour = new Date(sweetObj.createdAt).getHours();\r\n  //   const min = new Date(sweetObj.createdAt).getMinutes();\r\n  //   return `${displayedAt(sweetObj.createdAt)}`;\r\n  // };\r\n\r\n  const like = async () => {\r\n    const iLike = sweetObj.likes.includes(userObj.uid);\r\n    if (!iLike) {\r\n      await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n        likes: [...sweetObj.likes, userObj.uid],\r\n      });\r\n    } else {\r\n      await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n        likes: sweetObj.likes.filter((user) => user !== userObj.uid),\r\n      });\r\n    }\r\n  };\r\n\r\n  const getCount = (name) => {\r\n    let count = 0;\r\n    if (name === 'likes') {\r\n      for (let i = 0; i < sweetObj.likes.length; i++) {\r\n        count += 1;\r\n      }\r\n      return count;\r\n    } else if (name === 'comments') {\r\n      for (let i = 0; i < sweetObj.comments.length; i++) {\r\n        count += 1;\r\n      }\r\n      return count;\r\n    }\r\n  };\r\n\r\n  const addComment = async (e) => {\r\n    e.preventDefault();\r\n    if (comment !== '') {\r\n      await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n        comments: [\r\n          ...sweetObj.comments,\r\n          {\r\n            uid: userObj.uid,\r\n            createdAt: Date.now(),\r\n            name: userObj.displayName,\r\n            text: comment,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    setText({\r\n      ...text,\r\n      comment: '',\r\n    });\r\n  };\r\n\r\n  const deleteComment = async (cid) => {\r\n    // console.log('comment', uid, 'delete comment createdAt', cid);\r\n\r\n    // 삭제하려는 문서 id(cid)의 uid가 나의 아이디(uid)와 같을 때\r\n    await updateDoc(doc(dbService, `sweets/${sweetObj.id}`), {\r\n      comments: sweetObj.comments.filter(\r\n        (comment) => comment.createdAt !== cid\r\n      ),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={darkMode ? 'sweet dark' : 'sweet'}>\r\n      {editing ? (\r\n        <>\r\n          <form className=\"container sweetEdit\" onSubmit={onSubmit}>\r\n            <input\r\n              className=\"formInput\"\r\n              type=\"text\"\r\n              placeholder=\"스윗 수정하기\"\r\n              name=\"sweet\"\r\n              required\r\n              autoFocus\r\n              value={sweet}\r\n              onChange={onChange}\r\n            />\r\n            <input type=\"submit\" value=\"스윗 업데이트\" className=\"formBtn\" />\r\n          </form>\r\n          <span\r\n            onClick={(prev) => setEditing(!prev)}\r\n            className=\"formBtn cancelBtn\"\r\n          >\r\n            취소\r\n          </span>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"hello\">\r\n            <div className=\"info\">\r\n              <span className=\"dname\">{sweetObj.dName || '♥'}</span>\r\n              <span className=\"mini\">{displayedAt(sweetObj.createdAt)}</span>\r\n            </div>\r\n            {isOwner && (\r\n              <div className=\"sweet__actions\">\r\n                <span onClick={onDeleteClick}>\r\n                  <FontAwesomeIcon icon={faTrash} />\r\n                </span>\r\n                <span onClick={toggleEditing}>\r\n                  <FontAwesomeIcon icon={faPencilAlt} />\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <span className=\"sweet__text\">{sweetObj.text}</span>\r\n          {sweetObj.attachmentUrl && (\r\n            <img alt=\"img\" src={sweetObj.attachmentUrl} />\r\n          )}\r\n          <>\r\n            <div className=\"bottom\">\r\n              <button onClick={like}>\r\n                <FontAwesomeIcon\r\n                  icon={faHeart}\r\n                  style={{\r\n                    color: sweetObj.likes.includes(userObj.uid)\r\n                      ? '#e05d5d'\r\n                      : '#d3d3d3',\r\n                  }}\r\n                />\r\n                <span>{' ' + getCount('likes')}</span>\r\n              </button>\r\n              <button onClick={() => setTest(!test)}>\r\n                <FontAwesomeIcon icon={faComment} color=\"#d3d3d3\" />\r\n                <span>{' ' + getCount('comments')}</span>\r\n              </button>\r\n              <button>\r\n                <FontAwesomeIcon icon={faShare} color=\"#d3d3d3\" />\r\n              </button>\r\n            </div>\r\n            {/* comments */}\r\n            <div className=\"comments-container\">\r\n              {test && (\r\n                <div style={{ marginTop: 10 }}>\r\n                  <form className=\"commentForm\" onSubmit={addComment}>\r\n                    <div className=\"commentInput__container\">\r\n                      <input\r\n                        className=\"commentInput__input\"\r\n                        type=\"text\"\r\n                        name=\"comment\"\r\n                        value={comment}\r\n                        onChange={onChange}\r\n                        placeholder=\"댓글 달기\"\r\n                        required\r\n                      />\r\n                      <input\r\n                        className=\"commentInput__arrow\"\r\n                        type=\"submit\"\r\n                        value=\"&rarr;\"\r\n                        onSubmit={addComment}\r\n                      />\r\n                    </div>\r\n                  </form>\r\n                  <div className=\"comments\">\r\n                    {comments.map((comment) => (\r\n                      <div className=\"comment\" key={comment.createdAt}>\r\n                        <div className=\"hello\">\r\n                          <div className=\"info\">\r\n                            <span className=\"dname\">{comment.name}</span>\r\n                            <span className=\"mini\">\r\n                              {displayedAt(comment.createdAt)}\r\n                            </span>\r\n                          </div>\r\n                          {comment.uid === userObj.uid && (\r\n                            <button\r\n                              className=\"delcommentBtn\"\r\n                              onClick={() => {\r\n                                window.confirm('댓글을 삭제하시겠습니까?') &&\r\n                                  deleteComment(comment.createdAt);\r\n                              }}\r\n                            >\r\n                              <FontAwesomeIcon icon={faTimes} />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"ctext\">{comment.text}</div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sweet;\r\n","import React, { useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { dbService, storageService } from 'fbase';\r\nimport { addDoc, collection } from 'firebase/firestore';\r\nimport { ref, uploadString, getDownloadURL } from '@firebase/storage';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst SweetFactory = ({ userObj, darkMode }) => {\r\n  // console.log('SweetFactory userObj', userObj);\r\n  const [sweet, setSweet] = useState('');\r\n  const [attachment, setAttachment] = useState('');\r\n\r\n  const onSubmit = async (e) => {\r\n    if (sweet === '') {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n    let attachmentUrl = '';\r\n    if (attachment !== '') {\r\n      // 파일 경로 참조 만들기\r\n      const fileRef = ref(storageService, `${userObj.uid}/${uuidv4()}`);\r\n      // storage 참조 경로로 파일 업로드 하기\r\n      const uploadFile = await uploadString(fileRef, attachment, 'data_url');\r\n      console.log(uploadFile);\r\n      // storage에 있는 파일 URL로 다운로드 받기\r\n      attachmentUrl = await getDownloadURL(uploadFile.ref);\r\n    }\r\n\r\n    // 트윗할 때, 메시지와 사진도 같이 firestore에 생성\r\n    const sweetObj = {\r\n      text: sweet,\r\n      createdAt: Date.now(),\r\n      creatorId: userObj.uid,\r\n      attachmentUrl,\r\n      dName: userObj.displayName,\r\n      email: userObj.email,\r\n      likes: [],\r\n      comments: [],\r\n    };\r\n    await addDoc(collection(dbService, 'sweets'), sweetObj);\r\n    setSweet('');\r\n    setAttachment('');\r\n  };\r\n\r\n  const onChange = ({ target: { value } }) => {\r\n    setSweet(value);\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader(); // fileReader API 파일 이름을 읽음\r\n    reader.onloadend = (finishedEvent) => {\r\n      // console.log('finishedEvent', finishedEvent);\r\n      const {\r\n        currentTarget: { result },\r\n      } = finishedEvent;\r\n      setAttachment(result);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  const onClearAttachment = () => setAttachment('');\r\n\r\n  return (\r\n    <form\r\n      onSubmit={onSubmit}\r\n      className={darkMode ? 'factoryForm dark' : 'factoryForm'}\r\n    >\r\n      <div className=\"factoryInput__container\">\r\n        <input\r\n          className=\"factoryInput__input\"\r\n          value={sweet}\r\n          onChange={onChange}\r\n          type=\"text\"\r\n          placeholder=\"무슨 달콤한 생각을 하고 있나요?\"\r\n          maxLength={120}\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"&rarr;\"\r\n          className=\"factoryInput__arrow\"\r\n          onSubmit={onsubmit}\r\n        />\r\n      </div>\r\n      <label htmlFor=\"attach-file\" className=\"factoryInput__label\">\r\n        <span>사진 선택하기</span>\r\n        <FontAwesomeIcon icon={faPlus} />\r\n      </label>\r\n      <input\r\n        id=\"attach-file\"\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={onFileChange}\r\n        style={{\r\n          opacity: 0,\r\n        }}\r\n      />\r\n      {attachment && (\r\n        <div className=\"factoryForm__attachment\">\r\n          <img\r\n            alt=\"img\"\r\n            src={attachment}\r\n            style={{\r\n              backgroundImage: attachment,\r\n            }}\r\n          />\r\n          <div className=\"factoryForm__clear\" onClick={onClearAttachment}>\r\n            <span>Remove</span>\r\n            <FontAwesomeIcon icon={faTimes} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SweetFactory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  collection,\r\n  getFirestore,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n} from 'firebase/firestore';\r\nimport Sweet from 'components/Sweet';\r\nimport SweetFactory from 'components/SweetFactory';\r\n\r\nconst Home = ({ userObj, darkMode }) => {\r\n  // console.log('Home userObj', userObj);\r\n  const [sweets, setSweets] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // onSnapshot은 데이터베이스의 변화를 실시간으로 알려주는 기능\r\n    // 실시간으로 데이터를 데이터베이스에서 가져오기 (쿼리 스냅샷 차이)\r\n    // snapshot은 우리가 가진 query와 같은 것 docs를 갖고 있음\r\n    const q = query(\r\n      collection(getFirestore(), 'sweets'),\r\n      orderBy('createdAt', 'desc')\r\n    );\r\n\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      // console.log('something happened-read, delete, update..');\r\n      const sweetArray = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        likes: doc.data().likes,\r\n        comments: doc.data().comments,\r\n        ...doc.data(),\r\n      }));\r\n      setSweets(sweetArray);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={darkMode ? 'container dark' : 'container'}>\r\n      <SweetFactory userObj={userObj} darkMode={darkMode} />\r\n      <div style={{ marginTop: 30 }} className=\"sweet-container\">\r\n        {sweets.map((sweet) => (\r\n          <Sweet\r\n            key={sweet.id}\r\n            userObj={userObj}\r\n            sweetObj={sweet}\r\n            isOwner={sweet.creatorId === userObj.uid}\r\n            darkMode={darkMode}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons';\r\nimport {\r\n  faEllipsisH,\r\n  faEnvelope,\r\n  faHeart,\r\n  faHome,\r\n  faMoon,\r\n  faUser,\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Navigation = ({ userObj, darkMode, onDarkMode }) => {\r\n  return (\r\n    <nav className={darkMode ? 'nav dark' : 'nav'}>\r\n      {/* <ul style={{ display: 'flex', justifyContent: 'center', marginTop: 50 }}> */}\r\n      <ul style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <li className=\"logo\">\r\n          <NavLink to=\"/\" className=\"navlink\" activeClassName=\"\">\r\n            <FontAwesomeIcon icon={faTwitter} size=\"2x\" />\r\n            <span>♥</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"home\">\r\n          <NavLink to=\"/\" className=\"navlink\" activeClassName=\"\">\r\n            <FontAwesomeIcon icon={faHome} size=\"2x\" />\r\n            <span>home</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"profile\">\r\n          <NavLink className=\"navlink\" activeClassName=\"\" to=\"/profile\">\r\n            <FontAwesomeIcon icon={faUser} size=\"2x\" />\r\n            <span>{userObj.displayName ? `${userObj.displayName}` : '♥'}</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"msg\">\r\n          <NavLink to=\"/msg\" className=\"navlink\" activeClassName=\"active\">\r\n            <FontAwesomeIcon icon={faEnvelope} size=\"2x\" />\r\n            <span>{'+1'}</span>\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"dark\" onClick={onDarkMode} className=\"navlink\">\r\n          <FontAwesomeIcon\r\n            icon={faMoon}\r\n            size=\"2x\"\r\n            color={darkMode ? '#e9c77b' : '#000000cc'}\r\n          />\r\n          <span>{darkMode ? 'light' : 'dark'}</span>\r\n        </li>\r\n        <li className=\"more navlink\">\r\n          <FontAwesomeIcon icon={faEllipsisH} size=\"2x\" />\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { authService } from 'fbase';\r\nimport { signOut, updateProfile } from '@firebase/auth';\r\n// import { collection, getDocs, orderBy, query, where } from '@firebase/firestore';\r\n\r\nconst Profile = ({ refreshUser, userObj, darkMode }) => {\r\n  const history = useHistory();\r\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n\r\n  const onLogOutClick = () => {\r\n    signOut(authService); // auth.signOut();\r\n    history.push('/');\r\n  };\r\n\r\n  const onChange = ({ target: { value } }) => {\r\n    setNewDisplayName(value);\r\n  };\r\n\r\n  // updateProfile 2 update - displayName, photoURL\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (userObj.displayName !== newDisplayName) {\r\n      await updateProfile(authService.currentUser, {\r\n        displayName: newDisplayName,\r\n        // photoURL: 'https://example.com/jane-q-user/profile.jpg',\r\n      })\r\n        .then(() => {\r\n          // Profile updated!\r\n          refreshUser();\r\n        })\r\n        .catch((error) => {\r\n          // An error occurred\r\n        });\r\n    }\r\n  };\r\n\r\n  // const getMySweets = async () => {\r\n  //   const q = query(\r\n  //     collection(dbService, 'sweets'),\r\n  //     where('creatorId', '==', userObj.uid) // 필터링\r\n  //   );\r\n  //   const querySnapshot = await getDocs(q);\r\n  //   querySnapshot.forEach((doc) => {\r\n  //     console.log(doc.id, ' => ', doc.data());\r\n  //   });\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   getMySweets();\r\n  // }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form\r\n        onSubmit={onSubmit}\r\n        className={darkMode ? 'profileForm dark' : 'profileForm'}\r\n      >\r\n        <input\r\n          onChange={onChange}\r\n          type=\"text\"\r\n          autoFocus\r\n          placeholder=\"Display name\"\r\n          value={newDisplayName || ''}\r\n          className=\"formInput\"\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"프로필 업데이트\"\r\n          className=\"formBtn\"\r\n          style={{\r\n            marginTop: 10,\r\n          }}\r\n        />\r\n      </form>\r\n      <span className=\"formBtn logOut\" onClick={onLogOutClick}>\r\n        로그아웃\r\n      </span>\r\n    </div>\r\n    // <>\r\n    //   <form onSubmit={onSubmit}>\r\n    //     <input\r\n    //       onChange={onChange}\r\n    //       type=\"test\"\r\n    //       placeholder=\"Display name\"\r\n    //       value={newDisplayName}\r\n    //     />\r\n    //     <input type=\"submit\" value=\"Updata Profile\" />\r\n    //   </form>\r\n    //   <button onClick={onLogOutClick}>Log Out</button>\r\n    // </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useState } from 'react';\r\n\r\nconst Message = ({ userName }) => {\r\n  const [open, setOpen] = useState(true);\r\n  const [msg, setMsg] = useState(`${userName || 'hey'} 클릭해봐 :)`);\r\n\r\n  const msgArr = [\r\n    '누군가를 사랑하고자 한다면 너 자신을 먼저 사랑해야 해',\r\n    '앞이 보이지 않을 때는 지금 할 수 있는 일을 하면 돼',\r\n    '진정한 아름다움은 내면에 있어',\r\n    '그렇게 구경만 하다가는 네 인생이 너 없이 흘러가는 걸 구경하게 될걸',\r\n    '마음만을 가지고 있어서는 안 된다. 반드시 실천해야 한다',\r\n    '소심해질 시간 없어 용감하고 대담하게 해',\r\n    '기억해 너는 세상을 빛으로 가득 채울 수 있는 존재란 걸',\r\n    '사랑은 누군가를 나보다 먼저 두는 거야',\r\n    '용기를 내',\r\n    '행운을 빌어',\r\n    '너에게는 아직 꿈을 이루기 위한 충분한 시간이 있어',\r\n    '힘내. 인생은 한순간에 바뀌기도 하는 거니까',\r\n    '큰 희망이 큰 사람을 만든다',\r\n    '가끔은 옳은 길이 가장 쉬운 길이 아닐 때도 있지',\r\n    '절대로 고개를 떨구지 말라 고개를 치켜들고 세상을 똑바로 보라',\r\n    '시간은 아무도 기다려주지 않아',\r\n    '아름다움은 사라져 버리지만 마음에서 우러나는 것은 사라지지 않아. 유머, 친절함, 용기',\r\n    '중요한 건 겉모습이 아닌 마음이야',\r\n    '간절히 바라는 마음이 있어야 마법이 일어날 수 있어',\r\n    '역경을 이겨내고 핀 꽃이 가장 아름다운 꽃이란다',\r\n    '눈을 감지 말고 똑바로 봐. 두려움의 실체는 생각과 다를 수 있어',\r\n  ];\r\n\r\n  const onOpen = () => setOpen(!open);\r\n\r\n  const randomMsg = () =>\r\n    setMsg(msgArr[Math.floor(Math.random() * msgArr.length)]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"msg-container\">\r\n        <div className=\"msgh\">\r\n          <span>Message</span>\r\n        </div>\r\n\r\n        {open ? (\r\n          <div className=\"msgs\" onClick={onOpen}>\r\n            <div className=\"chat\">\r\n              <div style={{ fontWeight: 'bold', marginBottom: 12 }}>\r\n                <FontAwesomeIcon icon={faUser} /> {'익명'}\r\n              </div>\r\n              <span>{msg}</span>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"back\" onClick={onOpen}>\r\n              {open ? '' : '←'}\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                padding: 20,\r\n              }}\r\n            >\r\n              <div style={{ marginRight: 10 }}>\r\n                <FontAwesomeIcon icon={faUser} color=\"black\" />\r\n              </div>\r\n              <div className=\"mymsg\" onClick={randomMsg}>\r\n                <span>{msg}</span>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Auth from '../routes/Auth';\r\nimport Home from '../routes/Home';\r\nimport Navigation from 'components/Navigation';\r\nimport Profile from 'routes/Profile';\r\nimport Message from 'components/Message';\r\n\r\nconst AppRouter = ({\r\n  refreshUser,\r\n  isLoggedIn,\r\n  userObj,\r\n  darkMode,\r\n  onDarkMode,\r\n}) => {\r\n  // <Route exact path=\"/\">\r\n  //   {isLoggedIn ? <Home /> : <Auth />}\r\n  // </Route>;\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <>\r\n          <div className={darkMode ? 'test dark' : 'test'}>\r\n            <div className={darkMode ? 'left dark' : 'left'}>\r\n              {isLoggedIn && (\r\n                <Navigation\r\n                  userObj={userObj}\r\n                  darkMode={darkMode}\r\n                  onDarkMode={onDarkMode}\r\n                />\r\n              )}\r\n            </div>\r\n            {isLoggedIn ? (\r\n              <div className={darkMode ? 'right dark' : 'right'}>\r\n                <Route exact path=\"/\">\r\n                  <Home\r\n                    userObj={userObj}\r\n                    darkMode={darkMode}\r\n                    onDarkMode={onDarkMode}\r\n                  />\r\n                </Route>\r\n                <Route exact path=\"/profile\">\r\n                  <Profile\r\n                    userObj={userObj}\r\n                    refreshUser={refreshUser}\r\n                    darkMode={darkMode}\r\n                  />\r\n                </Route>\r\n                <Route exact path=\"/msg\">\r\n                  <Message userName={userObj.displayName} />\r\n                </Route>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <Route exact path=\"/\">\r\n                  <Auth darkMode={darkMode} />\r\n                </Route>\r\n                {/* <Redirect from=\"*\" to=\"/\" /> */}\r\n              </>\r\n            )}\r\n            {/* <div></div> */}\r\n          </div>\r\n        </>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React, { useState, useEffect } from 'react';\nimport AppRouter from './Router';\nimport { authService } from 'fbase';\nimport { onAuthStateChanged } from 'firebase/auth';\n\nfunction App() {\n  // console.log('유저의 로그인 여부', authService.currentUser);\n  const [init, setInit] = useState(false); // flase면 router 숨기기\n  // userObj의 제일 처음 출발점!\n  const [userObj, setUserObj] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n\n  // darkmode test\n  // useEffect(() => {\n  //   const getLocalStorage = async () => {\n  //     let darkmode = localStorage.getItem('dark-mode');\n  //     setDarkMode(!!darkmode);\n  //   };\n  //   getLocalStorage();\n  // }, []);\n\n  // 처음 시작할 때. 컴포넌트가 mount 될 때\n  useEffect(() => {\n    // 사용자의 로그인 상태의 변화를 관찰하는 관찰자 추가\n    onAuthStateChanged(authService, (user) => {\n      // console.log('App user', user);\n      if (user) {\n        // setUserObj(user);\n        setUserObj({\n          email: user.email,\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        // User is signed out\n        console.log('not user', user);\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  // firebase의 정보를 가지고 react를 업데이트\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    console.log(authService.currentUser.displayName);\n    setUserObj({\n      email: user.email,\n      displayName: user.displayName,\n      uid: user.uid,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n\n  const onDarkMode = () => {\n    // const dark = localStorage.setItem('dark-mode', true);\n\n    console.log(localStorage.getItem('dark-mode'));\n    darkMode\n      ? (document.body.style = 'background-color: #fff8e5')\n      : (document.body.style = 'background-color: #193446');\n    setDarkMode(!darkMode);\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n          darkMode={darkMode}\n          onDarkMode={onDarkMode}\n        />\n      ) : (\n        <div>Initializing....</div>\n      )}\n\n      {/* <footer>&copy; {new Date().getFullYear()} Switter</footer> */}\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport fbase from './fbase';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}